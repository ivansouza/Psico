<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zen Yin-Yang Spinner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #0a0a0a;
            color: #e5e5e5;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        canvas {
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.1));
        }
        input[type=range] {
            accent-color: #ffffff;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div class="max-w-md w-full flex flex-col items-center gap-6">
        <header class="text-center">
            <h1 class="text-3xl font-light tracking-widest uppercase mb-1">Zen Spinner</h1>
            <p class="text-xs text-neutral-500 uppercase tracking-tighter">Balance in Motion</p>
        </header>

        <!-- Canvas Container -->
        <div class="relative group cursor-pointer" id="spinnerContainer">
            <canvas id="canvas" class="rounded-full"></canvas>
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                <span class="text-[10px] uppercase tracking-widest text-white/50 bg-black/40 px-3 py-1 rounded-full">Tap to Impulse</span>
            </div>
        </div>

        <!-- Controls -->
        <div class="w-full glass rounded-3xl p-6 space-y-5">
            <div class="flex justify-between items-center px-1">
                <span class="text-sm font-medium">Rotation Physics</span>
                <span id="speedDisplay" class="text-xs font-mono bg-white/10 px-2 py-0.5 rounded text-neutral-300">0.00 RPM</span>
            </div>

            <div class="space-y-4">
                <div class="space-y-2">
                    <div class="flex justify-between text-[10px] uppercase text-neutral-400">
                        <label>Constant Acceleration</label>
                        <span id="accVal">0.05</span>
                    </div>
                    <input type="range" id="acc" min="0" max="0.5" step="0.01" value="0.05" class="w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer">
                </div>

                <div class="space-y-2">
                    <div class="flex justify-between text-[10px] uppercase text-neutral-400">
                        <label>Friction (Damping)</label>
                        <span id="fricVal">0.005</span>
                    </div>
                    <input type="range" id="friction" min="0" max="0.05" step="0.001" value="0.005" class="w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer">
                </div>

                <div class="space-y-2">
                    <div class="flex justify-between text-[10px] uppercase text-neutral-400">
                        <label>Max Speed Limit</label>
                        <span id="maxVal">100</span>
                    </div>
                    <input type="range" id="maxSpeed" min="5" max="300" step="5" value="100" class="w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3 pt-2">
                <button id="reverse" class="py-2.5 rounded-xl border border-white/10 text-xs font-bold uppercase tracking-widest hover:bg-white/5 transition-colors">Reverse</button>
                <button id="reset" class="py-2.5 rounded-xl bg-white text-black text-xs font-bold uppercase tracking-widest hover:bg-neutral-200 transition-colors">Reset</button>
            </div>
        </div>

        <p class="text-[9px] text-neutral-600 text-center uppercase tracking-[0.2em] leading-relaxed">
            Physics calculated at 60Hz <br/>
            Touch or click the symbol to manually increase momentum
        </p>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('spinnerContainer');

        // State
        let angle = 0;
        let speed = 0; // Angular velocity
        let direction = 1;
        
        // Configs
        let acc = 0.05;
        let friction = 0.005;
        let maxSpeed = 100; // Doubled from 50
        
        const size = 320;
        const radius = size * 0.45;
        const centerX = size / 2;
        const centerY = size / 2;

        canvas.width = size;
        canvas.height = size;

        function drawYinYang() {
            // Main Outer Circle
            ctx.beginPath();
            ctx.arc(0, 0, radius, 0, Math.PI * 2);
            ctx.fillStyle = 'white';
            ctx.fill();

            // Black Half
            ctx.beginPath();
            ctx.arc(0, 0, radius, Math.PI / 2, -Math.PI / 2);
            ctx.fillStyle = 'black';
            ctx.fill();

            // Large Black Semicircle (bottom part of S curve)
            ctx.beginPath();
            ctx.arc(0, radius / 2, radius / 2, 0, Math.PI * 2);
            ctx.fillStyle = 'black';
            ctx.fill();

            // Large White Semicircle (top part of S curve)
            ctx.beginPath();
            ctx.arc(0, -radius / 2, radius / 2, 0, Math.PI * 2);
            ctx.fillStyle = 'white';
            ctx.fill();

            // Small Dots
            // White dot in black area
            ctx.beginPath();
            ctx.arc(0, radius / 2, radius / 6, 0, Math.PI * 2);
            ctx.fillStyle = 'white';
            ctx.fill();

            // Black dot in white area
            ctx.beginPath();
            ctx.arc(0, -radius / 2, radius / 6, 0, Math.PI * 2);
            ctx.fillStyle = 'black';
            ctx.fill();

            // Outline for definition
            ctx.beginPath();
            ctx.arc(0, 0, radius, 0, Math.PI * 2);
            ctx.strokeStyle = 'rgba(128,128,128,0.2)';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Update Physics
            if (Math.abs(speed) < maxSpeed) {
                speed += (acc * direction);
            }

            // Apply friction
            if (speed > 0) {
                speed = Math.max(0, speed - friction);
            } else if (speed < 0) {
                speed = Math.min(0, speed + friction);
            }

            // Limit speed
            if (Math.abs(speed) > maxSpeed) {
                speed = maxSpeed * Math.sign(speed);
            }

            angle += speed * 0.01;

            // Draw with Rotation
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(angle);
            
            ctx.filter = 'none';

            drawYinYang();
            ctx.restore();

            // Update Stats Display
            const rpm = (Math.abs(speed) * 60 / (Math.PI * 2)).toFixed(2);
            document.getElementById('speedDisplay').textContent = `${rpm} RPM`;

            requestAnimationFrame(animate);
        }

        // Interaction
        container.addEventListener('mousedown', () => {
            speed += 10 * direction;
        });

        container.addEventListener('touchstart', (e) => {
            e.preventDefault();
            speed += 10 * direction;
        }, { passive: false });

        // Control Panel Listeners
        document.getElementById('acc').addEventListener('input', (e) => {
            acc = parseFloat(e.target.value);
            document.getElementById('accVal').textContent = acc.toFixed(2);
        });

        document.getElementById('friction').addEventListener('input', (e) => {
            friction = parseFloat(e.target.value);
            document.getElementById('fricVal').textContent = friction.toFixed(3);
        });

        document.getElementById('maxSpeed').addEventListener('input', (e) => {
            maxSpeed = parseFloat(e.target.value);
            document.getElementById('maxVal').textContent = maxSpeed;
        });

        document.getElementById('reverse').addEventListener('click', () => {
            direction *= -1;
        });

        document.getElementById('reset').addEventListener('click', () => {
            speed = 0;
            angle = 0;
        });

        // Initialize
        animate();
    </script>
</body>
</html>
