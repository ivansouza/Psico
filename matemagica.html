<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matem√°gica - 199 Descobertas</title>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --success: #22c55e;
            --error: #ef4444;
            --bg: #f0f9ff;
            --card: #ffffff;
            --text: #1e293b;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
            color: var(--text);
        }

        #app {
            width: 100%;
            max-width: 450px;
            background: var(--card);
            height: 95vh;
            max-height: 800px;
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            border: 8px solid #e0e7ff;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .header { 
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white; 
            padding: 25px 20px; 
            text-align: center; 
            position: relative;
            flex-shrink: 0;
        }
        .header h1 { margin: 0; font-size: 26px; font-weight: 900; letter-spacing: 2px; }
        .header p { margin: 5px 0 0; font-size: 10px; font-weight: bold; opacity: 0.9; text-transform: uppercase; letter-spacing: 3px; }

        .btn-nav {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 42px;
            height: 42px;
            border-radius: 14px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .btn-main {
            width: 100%;
            padding: 20px;
            border: none;
            border-radius: 22px;
            color: white;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 6px 0px rgba(0,0,0,0.1);
            transition: all 0.1s;
        }
        .btn-main:active { transform: translateY(3px); box-shadow: 0 2px 0px rgba(0,0,0,0.1); }

        .btn-orange { background: #f97316; }
        .btn-blue { background: #3b82f6; }
        .btn-purple { background: #a855f7; }
        .btn-indigo { background: #6366f1; }

        .fact-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 22px;
            padding: 20px;
            margin-bottom: 12px;
            display: flex;
            gap: 15px;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        .fact-icon { font-size: 34px; flex-shrink: 0; }
        .fact-body b { display: block; color: var(--primary); font-size: 11px; text-transform: uppercase; margin-bottom: 4px; letter-spacing: 1px; }
        .fact-body p { margin: 0; font-size: 14px; font-weight: 600; line-height: 1.5; color: #334155; }

        .score-pill {
            background: #eef2ff;
            padding: 10px 25px;
            border-radius: 15px;
            font-weight: 900;
            color: var(--primary);
            border: 2px solid #c7d2fe;
            display: inline-block;
            margin-top: 15px;
        }

        .footer { padding: 15px; text-align: center; font-size: 9px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 2px; }

        .enigma-box {
            font-size: 22px;
            font-weight: 800;
            color: #312e81;
            line-height: 1.5;
            margin-bottom: 20px;
            padding: 35px 20px;
            background: #fdfbff;
            border: 4px solid #e0e7ff;
            border-radius: 30px;
            text-align: center;
        }

        .input-box {
            width: 100%;
            padding: 20px;
            border-radius: 20px;
            border: 4px solid #cbd5e1;
            text-align: center;
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 20px;
            outline: none;
            color: var(--primary);
        }

        .overlay {
            position: absolute;
            inset: 0;
            background: rgba(255,255,255,0.98);
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
            text-align: center;
        }
    </style>
</head>
<body>

    <div id="app"></div>

    <script>
        const ENIGMAS = [
            { q: "Qual o pr√≥ximo n√∫mero: 1, 2, 4, 7, 11, ...?", a: "16", h: "Aumenta +1, depois +2, depois +3..." },
            { q: "Se 3 gatos ca√ßam 3 ratos em 3 minutos, quanto tempo 1 gato leva para ca√ßar 1 rato?", a: "3", h: "Cada gato ca√ßa o seu ao mesmo tempo." },
            { q: "Um av√¥, dois pais e dois filhos foram pescar. Quantas pessoas foram no total?", a: "3", h: "Pense: o av√¥ √© pai, e o pai √© filho." },
            { q: "Quantos n√∫meros 9 existem entre 1 e 100?", a: "20", h: "N√£o esque√ßa do 90, 91... at√© o 99." },
            { q: "O que pesa mais: 1kg de chumbo ou 1kg de pipoca?", a: "igual", h: "Ambos s√£o 1 quilo." },
            { q: "Se voc√™ tem uma nota de 20 reais e gasta 7 reais, quanto sobra?", a: "13", h: "Continha de menos." },
            { q: "Uma fam√≠lia tem 6 filhas e cada filha tem um irm√£o. Quantos filhos a fam√≠lia tem?", a: "7", h: "O irm√£o √© o mesmo para todas." },
            { q: "Quantos meses t√™m 28 dias?", a: "12", h: "Dica: Todos t√™m!" },
            { q: "Qual n√∫mero vem antes do 1000?", a: "999", h: "Tire apenas um." },
            { q: "Quantas patas t√™m 4 cavalos e 2 galinhas juntas?", a: "20", h: "Cavalos (4) e Galinhas (2)." },
            { q: "Qual o dobro da metade de 10?", a: "10", h: "Metade de 10 √© 5. O dobro de 5 √©...?" },
            { q: "O pai de Maria tem 5 filhas: Lala, Lele, Lili, Lolo e...?", a: "maria", h: "Olhe o nome do pai." },
            { q: "Quanto √© 10 + 10 x 0?", a: "10", h: "Multiplica√ß√£o vem primeiro." },
            { q: "Um ano tem quantos dias normalmente?", a: "365", h: "Tr√™s, seis, cinco." },
            { q: "Quantos lados tem um cubo?", a: "6", h: "Pense num dado de jogo." },
            { q: "Qual a metade de 50?", a: "25", h: "25 + 25 = 50." },
            { q: "Se voc√™ ultrapassa o 2¬∫ lugar numa corrida, onde voc√™ fica?", a: "2", h: "Voc√™ tomou o lugar dele." },
            { q: "O que tem 4 pernas mas n√£o consegue andar?", a: "mesa", h: "Ou cadeira!" },
            { q: "Pense no 5. Dobre ele. Tire 2. Qual o resultado?", a: "8", h: "10 - 2." },
            { q: "Quantas dezenas existem no n√∫mero 80?", a: "8", h: "Cada dezena √© 10." },
            { q: "Um rel√≥gio marca 12:00. Onde est√° o ponteiro grande?", a: "12", h: "No topo." },
            { q: "Se 1=5, 2=10, 3=15, 4=20, quanto √© 5=?", a: "1", h: "Leia o come√ßo da pergunta: 1=5." },
            { q: "Quantos dedos t√™m 5 pessoas juntas?", a: "50", h: "10 dedos por pessoa." },
            { q: "Qual o pr√≥ximo: 10, 20, 30, ...?", a: "40", h: "Contando de 10 em 10." },
            { q: "O que √© que quanto mais se tira, maior fica?", a: "buraco", h: "Pense em cavar." },
            { q: "Quanto √© a metade de 2 mais 2?", a: "3", h: "Metade de 2 (1) + 2." },
            { q: "Qual n√∫mero √© √≠mpar e vem depois do 11?", a: "13", h: "Pule o 12." },
            { q: "Um tri√¢ngulo tem 3 lados. Quantos lados t√™m 3 tri√¢ngulos?", a: "9", h: "3 x 3." },
            { q: "Qual a √∫ltima letra do alfabeto?", a: "z", h: "X, Y..." },
            { q: "Enigma Final: Quanto √© 100 - 100?", a: "0", h: "Nada sobra." }
        ];

        function getCuriosities() {
            return [
                { t: "Espa√ßo", x: "Em Marte, o p√¥r do sol √© azul! A poeira espalha a luz de um jeito m√°gico.", i: "üöÄ" },
                { t: "Animais", x: "O elefante √© o √∫nico animal do mundo que n√£o consegue pular. Ele √© pesado demais!", i: "üêò" },
                { t: "Matem√°tica", x: "O n√∫mero zero foi inventado na √çndia h√° mais de 1.500 anos.", i: "0Ô∏è‚É£" },
                { t: "Natureza", x: "As abelhas constroem hex√°gonos porque √© a forma que guarda mais mel com menos cera.", i: "üêù" },
                { t: "Corpo Humano", x: "Seu cora√ß√£o bate 100 mil vezes por dia sem voc√™ precisar pedir!", i: "‚ù§Ô∏è" },
                { t: "Espa√ßo", x: "V√™nus gira t√£o devagar que um dia l√° dura mais que um ano na Terra!", i: "ü™ê" },
                { t: "Animais", x: "Um caracol pode dormir por at√© 3 anos seguidos!", i: "üêå" },
                { t: "Tecnologia", x: "O nome Google vem de 'Googol', o n√∫mero 1 seguido de 100 zeros!", i: "üåê" },
                { t: "Corpo Humano", x: "Seu nariz consegue lembrar de 50 mil cheiros diferentes!", i: "üëÉ" },
                { t: "Animais", x: "As formigas nunca dormem e n√£o possuem pulm√µes!", i: "üêú" },
                { t: "Oceano", x: "O cora√ß√£o da baleia azul √© do tamanho de um carro popular.", i: "üê≥" },
                { t: "Matem√°tica", x: "Em um dado, a soma das faces opostas √© sempre 7. Tente somar 1 e 6!", i: "üé≤" },
                { t: "Espa√ßo", x: "Na Lua, suas pegadas durariam 100 milh√µes de anos porque n√£o existe vento.", i: "üë£" },
                { t: "Animais", x: "O pica-pau bate o bico 20 vezes por segundo e n√£o fica com dor de cabe√ßa!", i: "üê¶" },
                { t: "Corpo Humano", x: "O osso da coxa (f√™mur) √© mais forte que o concreto!", i: "üí™" },
                { t: "Plantas", x: "Girass√≥is usam a matem√°tica para organizar suas sementes sem desperdi√ßar espa√ßo.", i: "üåª" },
                { t: "Hist√≥ria", x: "Antigamente, o sal era t√£o caro que soldados romanos eram pagos com ele. Da√≠ vem o 'sal√°rio'!", i: "üßÇ" },
                { t: "Animais", x: "Cavalos e vacas conseguem dormir em p√© para fugir r√°pido de perigos.", i: "üêé" },
                { t: "Espa√ßo", x: "Existem mais estrelas no c√©u do que gr√£os de areia em todas as praias da Terra!", i: "‚≠ê" },
                { t: "Corpo Humano", x: "Voc√™ √© 1cm mais alto de manh√£ do que √† noite. Sua coluna se aperta durante o dia.", i: "üìè" },
                { t: "Matem√°tica", x: "111.111.111 x 111.111.111 d√° o resultado 12.345.678.987.654.321!", i: "üßÆ" },
                { t: "Animais", x: "O polvo tem 3 cora√ß√µes e seu sangue √© azul!", i: "üêô" },
                { t: "Natureza", x: "O bambu pode crescer quase um metro em apenas um dia!", i: "üéã" },
                { t: "Corpo Humano", x: "Seus dentes s√£o √∫nicos, como impress√µes digitais. Ningu√©m tem dentes iguais.", i: "ü¶∑" },
                { t: "Espa√ßo", x: "Em Saturno e J√∫piter, chove diamantes devido √† press√£o da atmosfera!", i: "üíé" },
                { t: "Hist√≥ria", x: "O primeiro rato de computador foi feito de madeira h√° muito tempo!", i: "üñ±Ô∏è" },
                { t: "Animais", x: "Cachorros n√£o veem apenas preto e branco; eles veem azul e amarelo tamb√©m.", i: "üê∂" },
                { t: "Matem√°tica", x: "Um trilh√£o √© o n√∫mero 1 seguido de 12 zeros!", i: "üî¢" },
                { t: "Natureza", x: "A √°gua pode estar no estado s√≥lido, l√≠quido e gasoso ao mesmo tempo!", i: "üßä" },
                { t: "Corpo Humano", x: "Seu est√¥mago produz uma nova camada de prote√ß√£o a cada duas semanas.", i: "üçî" },
                { t: "Animais", x: "O beija-flor √© o √∫nico p√°ssaro que consegue voar para tr√°s!", i: "üê¶" },
                { t: "Oceano", x: "O som viaja 5 vezes mais r√°pido na √°gua do que no ar.", i: "üåä" },
                { t: "Espa√ßo", x: "Plut√£o √© menor que o Brasil, por isso deixou de ser um planeta principal.", i: "üî≠" },
                { t: "Natureza", x: "Um raio √© 5 vezes mais quente que a superf√≠cie do Sol!", i: "‚ö°" },
                { t: "Corpo Humano", x: "Seus olhos piscam cerca de 15 a 20 vezes por minuto.", i: "üëÅÔ∏è" },
                { t: "Matem√°tica", x: "O n√∫mero Pi (3,14...) nunca termina e nunca se repete.", i: "ü•ß" },
                { t: "Animais", x: "As girafas n√£o t√™m cordas vocais e sua l√≠ngua √© azul-escura.", i: "ü¶í" },
                { t: "Oceano", x: "Luz solar n√£o chega a mais de 1000 metros de profundidade no mar.", i: "üî¶" },
                { t: "Hist√≥ria", x: "As pir√¢mides do Egito foram constru√≠das sem o uso de rodas ou polias!", i: "üìê" },
                { t: "Tecnologia", x: "O primeiro jogo de v√≠deo foi inventado h√° mais de 60 anos.", i: "üéÆ" },
                { t: "Corpo Humano", x: "Sua l√≠ngua √© o m√∫sculo mais forte do corpo em rela√ß√£o ao tamanho.", i: "üëÖ" },
                { t: "Animais", x: "Os tigres t√™m a pele listrada, n√£o apenas os pelos!", i: "üêØ" },
                { t: "Espa√ßo", x: "A Via L√°ctea, nossa gal√°xia, est√° sempre girando em velocidade incr√≠vel.", i: "üåÄ" },
                { t: "Matem√°tica", x: "O n√∫mero 7 √© o favorito de quase todo o mundo nas pesquisas!", i: "7Ô∏è‚É£" },
                { t: "Natureza", x: "Existem √°rvores que vivem mais de 5 mil anos!", i: "üå≥" },
                { t: "Corpo Humano", x: "Seus pulm√µes n√£o s√£o iguais; o esquerdo √© menor por causa do cora√ß√£o.", i: "ü´Å" },
                { t: "Animais", x: "As borboletas sentem o gosto das coisas com os p√©s!", i: "ü¶ã" },
                { t: "Oceano", x: "A Fossa das Marianas √© t√£o profunda que o Everest caberia nela.", i: "üèîÔ∏è" },
                { t: "Espa√ßo", x: "O Sol √© uma estrela m√©dia, existem estrelas gigantescas no universo.", i: "‚òÄÔ∏è" },
                { t: "Hist√≥ria", x: "A primeira l√¢mpada durou apenas 13 horas acesa.", i: "üí°" },
                { t: "Animais", x: "Ovelhas conseguem reconhecer os rostos de at√© 50 outras ovelhas!", i: "üêë" },
                { t: "Natureza", x: "A neve n√£o √© branca, ela √© transparente como o vidro!", i: "‚ùÑÔ∏è" },
                { t: "Corpo Humano", x: "Seu c√©rebro produz eletricidade para acender uma pequena l√¢mpada.", i: "üß†" },
                { t: "Matem√°tica", x: "A soma de 1+2+3+4 at√© 100 d√° exatamente 5.050!", i: "üìù" },
                { t: "Animais", x: "Os pinguins d√£o uma pedrinha de presente quando gostam de outro pinguim.", i: "üêß" },
                { t: "Oceano", x: "As p√©rolas s√£o feitas por ostras para se protegerem de areia.", i: "üêö" },
                { t: "Espa√ßo", x: "Astronautas ficam mais altos no espa√ßo porque a coluna se estica.", i: "üë®‚ÄçüöÄ" },
                { t: "Tecnologia", x: "Existem mais celulares no mundo do que pessoas!", i: "üì±" },
                { t: "Corpo Humano", x: "Suas unhas das m√£os crescem 4 vezes mais r√°pido que as dos p√©s.", i: "üíÖ" },
                { t: "Animais", x: "Uma √°gua-viva √© feita de 95% de √°gua!", i: "üéê" },
                { t: "Natureza", x: "As plantas podem 'ouvir' vibra√ß√µes quando um inseto as morde.", i: "ü™¥" },
                { t: "Hist√≥ria", x: "Dinossauros viveram na Terra por 165 milh√µes de anos!", i: "ü¶ñ" },
                { t: "Matem√°tica", x: "A palavra 'cem' vem de uma palavra antiga que significava '120'.", i: "üíØ" },
                { t: "Espa√ßo", x: "O universo est√° ficando maior a cada segundo!", i: "üåå" },
                { t: "Corpo Humano", x: "O espirro viaja a 160 quil√¥metros por hora.", i: "ü§ß" },
                { t: "Animais", x: "Golfinhos d√£o nomes uns aos outros atrav√©s de assobios!", i: "üê¨" },
                { t: "Oceano", x: "Corais s√£o animais, n√£o plantas!", i: "ü™∏" },
                { t: "Natureza", x: "O Saara j√° foi uma floresta verde cheia de lagos.", i: "üå¥" },
                { t: "Tecnologia", x: "A primeira foto da hist√≥ria levou 8 horas para ser tirada.", i: "üì∏" },
                { t: "Corpo Humano", x: "Voc√™ perde cerca de 4 quilos de pele morta todos os anos.", i: "üß¥" },
                { t: "Animais", x: "As corujas n√£o conseguem mexer os olhos; elas giram a cabe√ßa!", i: "ü¶â" },
                { t: "Matem√°tica", x: "O s√≠mbolo de igual (=) foi criado para evitar escrever a mesma frase.", i: "‚öñÔ∏è" },
                { t: "Espa√ßo", x: "A tempestade em J√∫piter (Mancha Vermelha) dura mais de 300 anos!", i: "üåÄ" },
                { t: "Hist√≥ria", x: "Os maias usavam sementes de cacau como dinheiro!", i: "üç´" },
                { t: "Natureza", x: "Um dia em Netuno dura apenas 16 horas.", i: "‚õàÔ∏è" },
                { t: "Corpo Humano", x: "O sangue leva menos de um minuto para circular por todo o corpo.", i: "ü©∏" },
                { t: "Animais", x: "Cangurus usam a cauda como uma quinta perna para caminhar.", i: "ü¶ò" },
                { t: "Oceano", x: "Lulas gigantes t√™m olhos do tamanho de bolas de basquete!", i: "ü¶ë" },
                { t: "Espa√ßo", x: "Voc√™ pesaria muito menos na Lua porque a gravidade l√° √© fraca.", i: "üéà" },
                { t: "Tecnologia", x: "O primeiro computador pesava mais de 27 toneladas!", i: "üìü" },
                { t: "Corpo Humano", x: "Suas orelhas e seu nariz nunca param de crescer.", i: "üëÇ" },
                { t: "Animais", x: "O porco-espinho flutua na √°gua porque seus espinhos t√™m ar.", i: "ü¶î" },
                { t: "Natureza", x: "O arco-√≠ris √© um c√≠rculo completo, mas o ch√£o corta a metade.", i: "üåà" },
                { t: "Hist√≥ria", x: "A Grande Muralha da China n√£o pode ser vista da Lua sem aparelhos.", i: "üß±" },
                { t: "Matem√°tica", x: "O n√∫mero 40 em ingl√™s (Forty) tem as letras em ordem alfab√©tica.", i: "üî°" },
                { t: "Espa√ßo", x: "Uma colher de uma estrela de n√™utrons pesaria um bilh√£o de toneladas!", i: "‚òÑÔ∏è" },
                { t: "Corpo Humano", x: "Seus ossos s√£o compostos por 31% de √°gua.", i: "üíß" },
                { t: "Animais", x: "Ursos polares t√™m pele preta por baixo dos pelos brancos.", i: "üêª‚Äç‚ùÑÔ∏è" },
                { t: "Oceano", x: "Existem montanhas e vulc√µes gigantes debaixo do mar.", i: "üåã" },
                { t: "Natureza", x: "O mel de 3 mil anos achado no Egito ainda √© comest√≠vel!", i: "üçØ" },
                { t: "Tecnologia", x: "O Wi-Fi usa ondas invis√≠veis como o r√°dio.", i: "üì°" },
                { t: "Corpo Humano", x: "O c√©rebro √© mais ativo dormindo do que vendo TV.", i: "üõå" },
                { t: "Animais", x: "Cavalos-marinhos n√£o t√™m est√¥mago; a comida passa direto.", i: "üé†" },
                { t: "Espa√ßo", x: "V√™nus √© o planeta mais quente, mesmo n√£o sendo o mais perto do Sol.", i: "üî•" },
                { t: "Hist√≥ria", x: "Leonardo da Vinci escrevia de tr√°s para frente para esconder notas.", i: "üé®" },
                { t: "Matem√°tica", x: "O zero n√£o pode ser escrito em algarismos romanos.", i: "üö´" },
                { t: "Natureza", x: "Cogumelos brilham no escuro para atrair insetos.", i: "üçÑ" },
                { t: "Corpo Humano", x: "Voc√™ produz cerca de um litro de saliva por dia.", i: "ü§§" },
                { t: "Animais", x: "O grito de uma baleia azul √© mais alto que um avi√£o a jato!", i: "üêã" },
                { t: "Oceano", x: "A maior parte do oxig√™nio vem das algas marinhas.", i: "üå¨Ô∏è" },
                { t: "Espa√ßo", x: "Merc√∫rio √© t√£o quente que o gelo l√° s√≥ vive em sombras eternas.", i: "üßä" },
                { t: "Animais", x: "Gatos t√™m 32 m√∫sculos em cada orelha!", i: "üê±" },
                { t: "Natureza", x: "A √°gua da Terra √© a mesma desde o tempo dos dinossauros.", i: "ü¶ï" },
                { t: "Corpo Humano", x: "Seus c√≠lios duram 5 meses antes de ca√≠rem.", i: "üëÅÔ∏è" },
                { t: "Matem√°tica", x: "√Åbaco √© o nome da calculadora mais antiga do mundo.", i: "üßÆ" },
                { t: "Tecnologia", x: "O YouTube nasceu para ser um site de namoro!", i: "üé•" },
                { t: "Animais", x: "Vacas t√™m melhores amigas e ficam tristes sozinhas.", i: "üêÆ" },
                { t: "Espa√ßo", x: "Dois metais grudam para sempre se se tocarem no espa√ßo!", i: "üñáÔ∏è" },
                { t: "Hist√≥ria", x: "Ricos no Imp√©rio Romano tinham aquecimento no ch√£o.", i: "üèõÔ∏è" },
                { t: "Corpo Humano", x: "Seu cora√ß√£o √© do tamanho do seu punho fechado.", i: "üëä" },
                { t: "Natureza", x: "O som n√£o viaja no espa√ßo porque n√£o tem ar.", i: "üîá" },
                { t: "Animais", x: "Cachorros suam apenas pelas almofadas das patas!", i: "üêæ" },
                { t: "Oceano", x: "Peixes-palha√ßo mudam de cor para se esconderem.", i: "üê†" },
                { t: "Matem√°tica", x: "O n√∫mero 100 em bin√°rio √© escrito como 1100100.", i: "üíª" },
                { t: "Hist√≥ria", x: "A Coca-Cola era verde no come√ßo por causa da garrafa.", i: "ü•§" },
                { t: "Espa√ßo", x: "Urano gira deitado, diferente de todos os outros planetas.", i: "ü™ê" },
                { t: "Corpo Humano", x: "Voc√™ tem ferro no corpo para fazer um pequeno prego.", i: "üî®" },
                { t: "Animais", x: "Tubar√µes n√£o t√™m ossos, seu esqueleto √© de cartilagem.", i: "ü¶à" },
                { t: "Natureza", x: "Uma nuvem branca pesa tanto quanto 100 elefantes!", i: "‚òÅÔ∏è" },
                { t: "Hist√≥ria", x: "Maias inventaram o chiclete usando resina de √°rvore.", i: "üç¨" },
                { t: "Tecnologia", x: "O primeiro dom√≠nio .com foi o symbolics.com.", i: "üîó" },
                { t: "Espa√ßo", x: "O Sol faz um som de zumbido que aparelhos captam.", i: "üêù" },
                { t: "Animais", x: "Crocodilos engolem pedras para mergulhar mais fundo.", i: "üêä" },
                { t: "Corpo Humano", x: "Sua boca produz bact√©rias para encher um est√°dio!", i: "üèüÔ∏è" },
                { t: "Matem√°tica", x: "O n√∫mero 18 √© sinal de sorte em muitos pa√≠ses.", i: "üçÄ" },
                { t: "Natureza", x: "A luz viaja a 300 mil quil√¥metros por segundo.", i: "‚ö°" },
                { t: "Hist√≥ria", x: "O p√£o foi inventado h√° 10 mil anos no Egito.", i: "üçû" },
                { t: "Espa√ßo", x: "J√∫piter protege a Terra atraindo asteroides perigosos.", i: "üõ°Ô∏è" },
                { t: "Animais", x: "Caranguejos t√™m o cora√ß√£o na perna!", i: "ü¶Ä" },
                { t: "Oceano", x: "O mar √© azul porque reflete a cor do c√©u.", i: "üíô" },
                { t: "Corpo Humano", x: "Seu esqueleto se renova totalmente a cada 10 anos.", i: "üíÄ" },
                { t: "Tecnologia", x: "Bluetooth tem nome de um rei viking!", i: "üëë" },
                { t: "Animais", x: "O pica-pau enrola a l√≠ngua no c√©rebro para prote√ß√£o.", i: "ü™µ" },
                { t: "Matem√°tica", x: "Um baralho tem mais combina√ß√µes que √°tomos na Terra.", i: "üÉè" },
                { t: "Natureza", x: "O Everest cresce 4 mil√≠metros por ano.", i: "üóª" },
                { t: "Hist√≥ria", x: "O avi√£o de Santos Dumont se chamava 14-Bis.", i: "‚úàÔ∏è" },
                { t: "Espa√ßo", x: "Andr√¥meda vai bater na nossa gal√°xia em bilh√µes de anos.", i: "üå†" },
                { t: "Corpo Humano", x: "O c√©rebro n√£o sente dor, ele apenas a processa.", i: "ü§Ø" },
                { t: "Animais", x: "Galinhas s√£o parentes pr√≥ximas do T-Rex!", i: "üêî" },
                { t: "Oceano", x: "O sal do mar cobriria a Terra com 150 metros.", i: "üßÇ" },
                { t: "Tecnologia", x: "O Google faz 40 mil buscas por segundo.", i: "‚å®Ô∏è" },
                { t: "Animais", x: "Camale√µes olham para dois lugares ao mesmo tempo.", i: "ü¶é" },
                { t: "Natureza", x: "O trov√£o √© o som do ar expandindo com o calor do raio.", i: "üîä" },
                { t: "Corpo Humano", x: "Voc√™ respira 20 mil vezes por dia.", i: "üå¨Ô∏è" },
                { t: "Hist√≥ria", x: "Vikings usavam pedras de sol como b√∫ssolas.", i: "‚òÄÔ∏è" },
                { t: "Espa√ßo", x: "O maior vulc√£o solar fica em Marte: Monte Olimpo.", i: "üåã" },
                { t: "Animais", x: "Polvos abrem potes de vidro por fora!", i: "üß™" },
                { t: "Corpo Humano", x: "Seus pulm√µes cobririam uma quadra de t√™nis.", i: "üéæ" },
                { t: "Natureza", x: "Madeira √© feita de ar que a √°rvore 'come'.", i: "üå≤" },
                { t: "Tecnologia", x: "O primeiro SMS foi 'Feliz Natal'.", i: "üéÑ" },
                { t: "Animais", x: "Hipop√≥tamos suam um protetor solar rosa.", i: "ü¶õ" },
                { t: "Espa√ßo", x: "Um traje espacial custa 12 milh√µes de d√≥lares!", i: "üí∞" },
                { t: "Corpo Humano", x: "Crian√ßas riem 300 vezes por dia; adultos s√≥ 20.", i: "üòÇ" },
                { t: "Oceano", x: "O fundo do mar √© menos conhecido que Marte.", i: "üï≥Ô∏è" },
                { t: "Matem√°tica", x: "O n√∫mero 999.999 tem propriedades m√°gicas.", i: "üîÑ" },
                { t: "Natureza", x: "Beija-flores batem asas 80 vezes por segundo!", i: "üå™Ô∏è" },
                { t: "Hist√≥ria", x: "Papel higi√™nico foi inventado na China h√° mil anos.", i: "üßª" },
                { t: "Animais", x: "Papagaios d√£o nomes sonoros aos filhotes.", i: "ü¶ú" },
                { t: "Espa√ßo", x: "A Terra pesa 6 sextilh√µes de toneladas!", i: "‚öñÔ∏è" },
                { t: "Corpo Humano", x: "Seus olhos t√™m o mesmo tamanho desde o nascimento.", i: "üë∂" },
                { t: "Oceano", x: "A Grande Barreira de Corais √© vista do espa√ßo.", i: "üõ∞Ô∏è" },
                { t: "Matem√°tica", x: "O n√∫mero 11 √© o menor primo com dois d√≠gitos.", i: "üî¢" },
                { t: "Natureza", x: "Sementes de ma√ß√£ t√™m veneno, mas precisa comer mil.", i: "üçé" },
                { t: "Hist√≥ria", x: "O primeiro trem era lento como um cavalo.", i: "üöÇ" },
                { t: "Animais", x: "Cobras cheiram com a l√≠ngua.", i: "üêç" },
                { t: "Espa√ßo", x: "Saturno flutuaria em uma banheira gigante.", i: "üõÅ" },
                { t: "Corpo Humano", x: "O DNA humano √© 50% igual ao da banana.", i: "üçå" },
                { t: "Tecnologia", x: "O primeiro mouse de pl√°stico foi da Apple.", i: "üñ±Ô∏è" },
                { t: "Animais", x: "O morcego √© o √∫nico mam√≠fero que voa.", i: "ü¶á" },
                { t: "Natureza", x: "Um dia em J√∫piter dura apenas 10 horas!", i: "üïí" },
                { t: "Hist√≥ria", x: "Xadrez treina generais na √çndia antiga.", i: "‚ôüÔ∏è" },
                { t: "Matem√°tica", x: "A sorte na loteria √© menor que cair um raio.", i: "üå©Ô∏è" },
                { t: "Espa√ßo", x: "O Sol gasta 4 milh√µes de toneladas de energia por segundo.", i: "üîã" },
                { t: "Corpo Humano", x: "O c√©rebro usa 20% do oxig√™nio do corpo.", i: "üß†" },
                { t: "Animais", x: "Tar√¢ntulas vivem at√© 30 anos!", i: "üï∑Ô∏è" },
                { t: "Oceano", x: "A √°gua do mar √© 3% sal puro.", i: "üåä" },
                { t: "Natureza", x: "O gelo da Ant√°rtida tem 4 quil√¥metros de altura!", i: "üßä" },
                { t: "Tecnologia", x: "O primeiro iPod guardava mil m√∫sicas.", i: "üéµ" },
                { t: "Hist√≥ria", x: "Humanos dominam o fogo h√° 400 mil anos.", i: "üî•" },
                { t: "Animais", x: "Guepardos correm 110km/h em 3 segundos!", i: "üêÜ" },
                { t: "Espa√ßo", x: "Vemos luz de estrelas que j√° podem ter morrido.", i: "‚åõ" },
                { t: "Corpo Humano", x: "Temos 600 m√∫sculos no corpo.", i: "üèãÔ∏è" },
                { t: "Oceano", x: "Golfinhos vigiam tubar√µes dormindo com um olho aberto.", i: "üëÅÔ∏è" },
                { t: "Matem√°tica", x: "N√∫meros primos s√≥ dividem por 1 e eles mesmos.", i: "üî¢" },
                { t: "Natureza", x: "Pedras andam sozinhas no Vale da Morte.", i: "üóø" },
                { t: "Hist√≥ria", x: "Primeira escola p√∫blica nasceu h√° 400 anos.", i: "üè´" },
                { t: "Animais", x: "O camar√£o tem o cora√ß√£o na cabe√ßa!", i: "üç§" },
                { t: "Espa√ßo", x: "Estrelas fazem som de r√°dio fora do ar.", i: "üìª" },
                { t: "Corpo Humano", x: "P√©s t√™m 250 mil gl√¢ndulas de suor cada.", i: "üë£" },
                { t: "Tecnologia", x: "O primeiro email √© de 1971.", i: "üìß" },
                { t: "Natureza", x: "Raio escolhe sempre o caminho mais curto.", i: "üìè" },
                { t: "Animais", x: "Orelhas de coelho servem para resfriar o corpo.", i: "üê∞" },
                { t: "Oceano", x: "M√∫sicas de baleias jubarte duram 20 minutos.", i: "üé∂" },
                { t: "Matem√°tica", x: "Um milh√£o tem 6 zeros, um bilh√£o tem 9.", i: "üìà" },
                { t: "Hist√≥ria", x: "Sorvete nasceu na China com neve e mel.", i: "üç¶" },
                { t: "Espa√ßo", x: "O universo tem 13 bilh√µes de anos!", i: "üï∞Ô∏è" },
                { t: "Corpo Humano", x: "Ossos s√£o 4 vezes mais fortes que o a√ßo.", i: "üèóÔ∏è" },
                { t: "Animais", x: "Flamingos em grupo s√£o um 'flamboyance'.", i: "ü¶©" },
                { t: "Natureza", x: "O mel n√£o estraga por causa do a√ß√∫car e acidez.", i: "üçØ" },
                { t: "Espa√ßo", x: "A Terra √© o √∫nico planeta conhecido com vida.", i: "üåç" },
                { t: "Corpo Humano", x: "Temos mais bact√©rias que c√©lulas no corpo.", i: "ü¶†" },
                { t: "Animais", x: "Corujas s√£o silenciosas no voo por causa das penas.", i: "ü¶â" }
            ].slice(0, 199);
        }

        const TRUQUES = [
            { t: "TRUQUE DO 9", x: "Some os n√∫meros do resultado de 9x. Ex: 9x5=45. 4+5=9. Sempre d√° 9!", i: "üñêÔ∏è" },
            { t: "SOMAR 9", x: "Para somar 9 a qualquer n√∫mero, some 10 e tire 1. √â muito mais r√°pido!", i: "ü™Ñ" },
            { t: "DOBRO R√ÅPIDO", x: "Para multiplicar por 4, dobre o n√∫mero duas vezes! Ex: 5x4 -> 10 -> 20!", i: "üß†" }
        ];

        let state = {
            screen: 'home',
            score: 0,
            idx: 0,
            unlocked: 1,
            curPool: getCuriosities(),
            curSeen: [],
            curCurrent: [],
            feedback: null,
            showReset: false
        };

        function save() {
            localStorage.setItem('mat_v199_real_v2', JSON.stringify({
                s: state.score, u: state.unlocked, idx: state.idx, seen: state.curSeen
            }));
        }

        function load() {
            const data = JSON.parse(localStorage.getItem('mat_v199_real_v2') || '{}');
            state.score = data.s || 0;
            state.unlocked = data.u || 1;
            state.idx = data.idx || 0;
            state.curSeen = data.seen || [];
            render();
        }

        function navigate(s) {
            state.screen = s;
            if(s === 'cur') drawCuriosities();
            render();
        }

        function drawCuriosities() {
            let available = state.curPool.filter(c => !state.curSeen.includes(c.x));
            if(available.length < 4) {
                state.curSeen = [];
                available = state.curPool;
            }
            const shuffled = [...available].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 4);
            state.curCurrent = selected;
            selected.forEach(s => state.curSeen.push(s.x));
            save();
        }

        function check() {
            const input = document.getElementById('ans');
            const val = input.value.trim().toLowerCase();
            const correct = ENIGMAS[state.idx].a.toLowerCase();

            if(val === correct || (val.length > 2 && correct.includes(val))) {
                state.score += 10;
                if(state.idx + 1 === state.unlocked && state.unlocked < 30) state.unlocked++;
                state.feedback = { type: 'ok', title: 'FANT√ÅSTICO!', text: 'Voc√™ acertou em cheio! +10 pontos.' };
            } else {
                state.feedback = { type: 'err', title: 'QUASE L√Å!', text: 'Tente pensar um pouquinho mais.' };
            }
            save();
            render();
        }

        function next() {
            if(state.feedback.type === 'ok') {
                if(state.idx < 29) state.idx++;
                else return navigate('win');
            }
            state.feedback = null;
            render();
        }

        function render() {
            const app = document.getElementById('app');
            let h = `
                <div class="header">
                    ${state.screen !== 'home' ? `<button class="btn-nav" onclick="navigate('home')">üè†</button>` : ''}
                    <h1>MATEM√ÅGICA</h1>
                    <p>Mundo de Descobertas</p>
                </div>
                <div class="main-content">
            `;

            if(state.screen === 'home') {
                h += `
                    <div style="margin-top: 20px"></div>
                    <button class="btn-main btn-orange" onclick="navigate('puz')"><span>üèÜ</span> 30 ENIGMAS (Fase ${state.unlocked})</button>
                    <button class="btn-main btn-blue" onclick="navigate('cur')"><span>‚ú®</span> CURIOSIDADES (${state.curSeen.length}/199)</button>
                    <button class="btn-main btn-purple" onclick="navigate('tip')"><span>üí°</span> TRUQUES NINJA</button>
                    
                    <div style="text-align:center; margin-top: auto">
                        <div class="score-pill">${state.score} PONTOS</div>
                        <button style="display:block; width:100%; border:none; background:none; color:#cbd5e1; font-weight:800; font-size:10px; margin-top:20px; cursor:pointer" onclick="state.showReset=true; render()">üóëÔ∏è REINICIAR TUDO</button>
                    </div>
                `;
            }
            else if(state.screen === 'puz') {
                const p = ENIGMAS[state.idx];
                h += `
                    <div style="display:flex; justify-content:space-between; font-size:10px; font-weight:900; color:#94a3b8; margin-bottom:10px;">
                        <span>ENIGMA ${state.idx+1}/30</span>
                        <span>${((state.idx+1)/30*100).toFixed(0)}%</span>
                    </div>
                    <div class="enigma-box">${p.q}</div>
                    <input type="text" id="ans" class="input-box" placeholder="..." autofocus onkeydown="if(event.key==='Enter')check()">
                    <button class="btn-main btn-indigo" onclick="check()">CONFERIR</button>
                    <p style="text-align:center; font-size:13px; color:#64748b; font-weight:bold;">üí° Dica: ${p.h}</p>
                `;
            }
            else if(state.screen === 'cur' || state.screen === 'tip') {
                const items = state.screen === 'cur' ? state.curCurrent : TRUQUES;
                h += `<h2 style="text-align:center; color:var(--primary); margin:0 0 20px 0">${state.screen === 'cur' ? 'BA√ö DE DESCOBERTAS' : 'TRUQUES NINJA'}</h2>`;
                items.forEach(i => {
                    h += `
                        <div class="fact-card">
                            <div class="fact-icon">${i.i}</div>
                            <div class="fact-body"><b>${i.t}</b><p>${i.x}</p></div>
                        </div>
                    `;
                });
                if(state.screen === 'cur') h += `<button class="btn-main btn-blue" onclick="drawCuriosities(); render()">VER NOVAS CURIOSIDADES</button>`;
                h += `<button class="btn-main btn-purple" onclick="navigate('home')">VOLTAR AO MENU</button>`;
            }
            else if(state.screen === 'win') {
                h += `
                    <div style="text-align:center; padding:40px 0">
                        <div style="font-size:80px">üëë</div>
                        <h2 style="font-size:32px; color:var(--primary); font-weight:900;">MAGO SUPREMO!</h2>
                        <p>Voc√™ completou todos os desafios!</p>
                        <div class="score-pill" style="font-size:30px; padding:20px 40px">${state.score}</div>
                        <button class="btn-main btn-orange" style="margin-top:40px" onclick="localStorage.clear(); location.reload()">NOVA JORNADA</button>
                    </div>
                `;
            }

            h += `</div><div class="footer">Matem√°gica v4.0 - 199 Fatos Reais</div>`;

            if(state.feedback) {
                h += `
                    <div class="overlay">
                        <div style="font-size:80px; margin-bottom:20px">${state.feedback.type==='ok'?'üåü':'üí´'}</div>
                        <h2 style="font-size:32px; color:${state.feedback.type==='ok'?'var(--success)':'var(--error)'}">${state.feedback.title}</h2>
                        <p style="font-size:18px; color:#64748b; margin-bottom:30px">${state.feedback.text}</p>
                        <button class="btn-main" style="background:${state.feedback.type==='ok'?'var(--success)':'var(--error)'}" onclick="next()">CONTINUAR</button>
                    </div>
                `;
            }

            if(state.showReset) {
                h += `
                    <div class="overlay" style="background:rgba(0,0,0,0.7)">
                        <div style="background:white; padding:30px; border-radius:30px; width:100%">
                            <h2 style="margin-top:0">REINICIAR?</h2>
                            <p>Seu progresso ser√° apagado.</p>
                            <button class="btn-confirm" style="width:100%; padding:20px; background:var(--error); border:none; color:white; border-radius:15px; font-weight:900" onclick="localStorage.clear(); location.reload()">SIM, REINICIAR</button>
                            <button class="btn-main" style="background:#eee; color:#333; margin-top:10px" onclick="state.showReset=false; render()">CANCELAR</button>
                        </div>
                    </div>
                `;
            }

            app.innerHTML = h;
            const input = document.getElementById('ans');
            if(input) input.focus();
        }

        load();
    </script>
</body>
</html>

